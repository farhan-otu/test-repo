import{jsx as f}from"react/jsx-runtime";import{a as C,eF as b}from"./main-hjbDDO6j.js";import{useState as u,useEffect as p,useMemo as h}from"react";import{b as S}from"./FormAccess-DEsYjDHG.js";function T(r){const[e,s]=u(null),[i,o]=u(null);function n(t){o({name:t.name,state:t.state})}return p(()=>{s(null),o(null),navigator.permissions.query({name:r}).then(t=>{s(t),n(t)})},[r]),p(()=>{if(!e)return;function t(){e&&n(e)}return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[e]),i}const D=({id:r,label:e,text:s,variant:i="plain"})=>{const{t:o}=C(),n=b(),l=T("clipboard-write")?.state==="denied",[a,c]=u(0),d=h(()=>{if(l)return"clipboardCopyDenied";switch(a){case 0:return"copyToClipboard";case 1:return"copySuccess";case 2:return"clipboardCopyError"}},[l,a]);p(()=>{if(a!==0)return n(()=>c(0),1e3)},[a,n]);const y=async m=>{try{await navigator.clipboard.writeText(m),c(1)}catch{c(2)}};return f(S,{id:`copy-button-${r}`,textId:e,"aria-label":o("copyToClipboard"),onClick:()=>y(s),exitDelay:600,variant:i,children:o(d)})};export{D as C};
//# sourceMappingURL=CopyToClipboardButton-MzIOrqEi.js.map
