import{jsx as e,jsxs as a,Fragment as A}from"react/jsx-runtime";import{ar as ae,d9 as C,as as G,a as L,e as $,P as b,da as te,c1 as M,c2 as ie,c3 as w,c4 as H,c5 as U,c6 as T,d as k,cL as ne,db as ee,a9 as se,aa as V,ad as le,y as ce,G as oe,H as W,dc as K,ay as de,I as me,f as _,al as D,cx as he,cy as Y,bp as q,cv as N,bq as x,_ as z,dd as X,de as Z,df as pe,ap as O}from"./main-hjbDDO6j.js";import*as j from"react";import{useState as J,useMemo as I}from"react";import{R as fe,u as ue}from"./RoutableTabs-ChOqIl6o.js";import{u as be,m as ve}from"./useLocaleSort-Bon3wgU4.js";import{E as ge}from"./ExpandableSection-CqcMlejr.js";import{a as B,b as F}from"./Tabs-TiG_cKa2.js";import{D as S,a as E,b as f,c as u}from"./DescriptionListTerm-BGpKKoC6.js";import{A as ye,a as R}from"./KeySelect-CBdQO7FV.js";import"react-dom";import"./PageHandler-Dm6Ir_Zl.js";import"./DynamicComponents-2Oogxguf.js";import"./ClientSelect-Di5Ep3wz.js";import"./FileUpload-DFzHUp8z.js";import"./CodeEditor-BF8OqNGf.js";import"./copy-icon-ePLWnxgr.js";import"./GroupPickerDialog-CJH5Fdnt.js";import"./DataListItemRow-C-0mzg8R.js";import"./MultiLineInput-BKovUfcB.js";import"./AddRoleMappingModal-B-7S42YC.js";import"./translationFormatter-aKDacg4X.js";import"./ConfirmDialog-DN_NVsrg.js";import"./filter-icon-I49U7vdU.js";import"./useParams-XtwJXIDJ.js";import"./constants-BclHbWtx.js";const P={brand:"pf-v5-c-brand",modifiers:{picture:"pf-m-picture"}},Te={name:"--pf-v5-c-brand--Height",value:"auto",var:"var(--pf-v5-c-brand--Height)"},_e={name:"--pf-v5-c-brand--Width",value:"auto",var:"var(--pf-v5-c-brand--Width)"},re=r=>{var{className:t="",src:d="",alt:i,children:l,widths:o,heights:h,style:p}=r,n=ae(r,["className","src","alt","children","widths","heights","style"]);let c;return o!==void 0&&(c=Object.assign({},C(o,_e.name))),h!==void 0&&(c=Object.assign(Object.assign({},c),C(h,Te.name))),l!==void 0?j.createElement("picture",Object.assign({className:G(P.brand,P.modifiers.picture,t),style:Object.assign(Object.assign({},p),c)},n),l,j.createElement("img",{src:d,alt:i})):j.createElement("img",Object.assign({},n,{className:G(P.brand,t),style:Object.assign(Object.assign({},p),c),src:d,alt:i}))};re.displayName="Brand";var v;(function(r){r.Default="DEFAULT",r.DisabledByDefault="DISABLED_BY_DEFAULT",r.Preview="PREVIEW",r.PreviewDisabledByDefault="PREVIEW_DISABLED_BY_DEFAULT",r.Experimental="EXPERIMENTAL",r.Deprecated="DEPRECATED"})(v||(v={}));const De=()=>{const{t:r}=L(),t=$(),[d,i]=J(""),[l,o]=J([]),h=I(()=>Object.entries(t.providers||[]).filter(([n])=>n.toLowerCase().includes(d.toLowerCase())),[d]),p=n=>{l.includes(n)?o(l.filter(c=>c!==n)):o([...l,n])};return e(b,{variant:"light",children:e(te,{inputGroupName:"search",inputGroupPlaceholder:r("search"),inputGroupOnEnter:i,children:a(M,{variant:"compact",children:[e(ie,{children:a(w,{children:[e(H,{width:20,children:r("spi")}),e(H,{children:r("providers")})]})}),e(U,{children:h.map(([n,{providers:c}])=>a(w,{children:[e(T,{children:n}),e(T,{children:e("ul",{children:Object.entries(c).map(([m,{operationalInfo:g}])=>a("li",{children:[m,g?e(ge,{isExpanded:l.includes(m),onToggle:()=>p(m),toggleText:l.includes(m)?r("showLess"):r("showMore"),children:e(M,{borders:!1,children:e(U,{children:Object.entries(g).map(([y,s])=>a(w,{children:[e(T,{children:y}),e(T,{children:s})]},y))})})},m):null]},m))})})]},n))})]})})})},Ee=()=>{const{environment:r}=ne(),{t}=L(),{realm:d,realmRepresentation:i}=k(),l=r.logo?r.logo:"/icon.svg",o=ee(t,i?.displayName,d);return e(b,{variant:"light",children:a(se,{variant:"lg",children:[e(re,{src:r.resourceUrl+l,alt:"Keycloak icon",className:"keycloak__dashboard_icon"}),e(V,{titleText:e(A,{children:t("welcome")}),headingLevel:"h2"}),e(V,{titleText:o,headingLevel:"h1"}),e(le,{children:t("introduction")})]})})},Q=({feature:r})=>{const{t}=L();return a(pe,{className:"pf-v5-u-mb-sm",children:[r.name,"Â ",r.type===v.Experimental&&e(O,{color:"orange",children:t("experimental")}),r.type===v.Preview&&e(O,{color:"blue",children:t("preview")}),r.type===v.Default&&e(O,{color:"green",children:t("supported")})]})},Ie=()=>{const{t:r}=L(),{realm:t,realmRepresentation:d}=k(),i=$(),l=be(),o=I(()=>l(i.features??[],ve("name")),[i.features]),h=I(()=>o.filter(s=>!s.enabled)||[],[i.features]),p=I(()=>o.filter(s=>s.enabled)||[],[i.features]),n=s=>ue(K({realm:t,tab:s})),c=ee(r,d?.displayName,t),m=n("welcome"),g=n("info"),y=n("providers");return Object.keys(i).length===0?e(ce,{}):a(A,{children:[e(b,{variant:"light",children:e(oe,{className:"pf-v5-u-mr-sm",children:e(W,{component:"h1",children:r("realmNameTitle",{name:t})})})}),e(b,{variant:"light",className:"pf-v5-u-p-0",children:a(fe,{"data-testid":"dashboard-tabs",defaultLocation:K({realm:t,tab:"welcome"}),isBox:!0,mountOnEnter:!0,children:[e(B,{id:"welcome","data-testid":"welcomeTab",title:e(F,{children:r("welcomeTabTitle")}),...m,children:e(b,{variant:"light",children:a("div",{className:"pf-v5-l-grid pf-v5-u-ml-lg",children:[e("div",{className:"pf-v5-l-grid__item pf-m-12-col",children:e(de,{className:"pf-v5-u-font-weight-bold",headingLevel:"h2",size:"3xl",children:r("welcomeTo",{realmDisplayInfo:c})})}),e("div",{className:"pf-v5-l-grid__item keycloak__dashboard_welcome_tab",children:e(W,{component:me.h3,children:r("welcomeText")})}),e("div",{className:"pf-v5-l-grid__item pf-m-10-col pf-v5-u-mt-md",children:e(_,{className:"pf-v5-u-px-lg pf-v5-u-py-sm",component:"a",href:D.documentation,target:"_blank",variant:"primary",children:r("viewDocumentation")})}),a(ye,{className:"pf-v5-u-mt-sm",children:[e(R,{children:e(_,{component:"a",href:D.guides,target:"_blank",variant:"tertiary",children:r("viewGuides")})}),e(R,{children:e(_,{component:"a",href:D.community,target:"_blank",variant:"tertiary",children:r("joinCommunity")})}),e(R,{children:e(_,{component:"a",href:D.blog,target:"_blank",variant:"tertiary",children:r("readBlog")})})]})]})})}),e(B,{id:"info","data-testid":"infoTab",title:e(F,{children:r("serverInfo")}),...g,children:e(b,{variant:"light",children:a(he,{hasGutter:!0,children:[e(Y,{lg:2,sm:12,children:a(q,{className:"keycloak__dashboard_card",children:[e(N,{children:r("serverInfo")}),e(x,{children:e(S,{children:a(E,{children:[e(f,{children:r("version")}),e(u,{children:i.systemInfo?.version})]})})}),e(N,{children:r("memory")}),e(x,{children:e(S,{children:a(E,{children:[e(f,{children:r("totalMemory")}),e(u,{children:i.memoryInfo?.totalFormated}),e(f,{children:r("freeMemory")}),e(u,{children:i.memoryInfo?.freeFormated}),e(f,{children:r("usedMemory")}),e(u,{children:i.memoryInfo?.usedFormated})]})})})]})}),e(Y,{lg:10,sm:12,children:a(q,{className:"keycloak__dashboard_card",children:[e(N,{children:r("profile")}),e(x,{children:a(S,{children:[a(E,{children:[a(f,{children:[r("enabledFeatures")," ",e(z,{fieldLabelId:"enabledFeatures",helpText:r("infoEnabledFeatures")})]}),e(u,{children:e(X,{variant:Z.inline,children:p.map(s=>e(Q,{feature:s},s.name))})})]}),a(E,{children:[a(f,{children:[r("disabledFeatures")," ",e(z,{fieldLabelId:"disabledFeatures",helpText:r("infoDisabledFeatures")})]}),e(u,{children:e(X,{variant:Z.inline,children:h.map(s=>e(Q,{feature:s},s.name))})})]})]})})]})})]})})}),e(B,{id:"providers","data-testid":"providersTab",title:e(F,{children:r("providerInfo")}),...y,children:e(De,{})})]})})]})};function Ze(){const{realm:r}=k(),t=r==="master";return a(A,{children:[!t&&e(Ee,{}),t&&e(Ie,{})]})}export{Ze as default};
//# sourceMappingURL=Dashboard-1nxZDIjQ.js.map
