import{jsxs as a,Fragment as I,jsx as e}from"react/jsx-runtime";import{useMemo as b}from"react";import{u as S,a as k,l as V,e as A,V as C,b as F,d as x,b_ as D,P as G,n as j,A as w,f as p,L as E,dJ as H,q as K,dK as L}from"./main-hjbDDO6j.js";import{D as T}from"./DynamicComponents-2Oogxguf.js";import{F as q}from"./FormAccess-DEsYjDHG.js";import{V as z}from"./ViewHeader-Dr6ZoEJz.js";import{u as B}from"./useParams-XtwJXIDJ.js";import{G as J}from"./GeneralSettings-rt9BC2g2.js";import"react-dom";import"./ClientSelect-Di5Ep3wz.js";import"./FileUpload-DFzHUp8z.js";import"./CodeEditor-BF8OqNGf.js";import"./copy-icon-ePLWnxgr.js";import"./GroupPickerDialog-CJH5Fdnt.js";import"./DataListItemRow-C-0mzg8R.js";import"./KeySelect-CBdQO7FV.js";import"./MultiLineInput-BKovUfcB.js";import"./AddRoleMappingModal-B-7S42YC.js";import"./translationFormatter-aKDacg4X.js";import"./useLocaleSort-Bon3wgU4.js";import"./ConfirmDialog-DN_NVsrg.js";import"./filter-icon-I49U7vdU.js";import"./ClientIdSecret-CHx560HZ.js";import"./RedirectUrl-CrIeTDhq.js";function ur(){const{adminClient:l}=S(),{t:i}=k(),{providerId:r}=B(),o=V({mode:"onChange"}),n=A(),d=b(()=>{const t=["org.keycloak.broker.social.SocialIdentityProvider","org.keycloak.broker.provider.IdentityProvider"];for(const s of t){const c=n.componentTypes?.[s]?.find(({id:h})=>h===r);if(c)return c}},[n,r]),{handleSubmit:u,formState:{isValid:f}}=o,{addAlert:v,addError:y}=C(),g=F(),{realm:m}=x(),P=async t=>{try{await l.identityProviders.create({...t,providerId:r,alias:t.alias}),v(i("createIdentityProviderSuccess"),K.success),g(L({realm:m,providerId:r,alias:t.alias,tab:"settings"}))}catch(s){y("createError",s)}};return o.getValues("alias")||o.setValue("alias",r),a(I,{children:[e(z,{titleKey:i("addIdentityProvider",{provider:D(r)})}),e(G,{variant:"light",children:a(q,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:u(P),children:[a(j,{...o,children:[e(J,{id:r}),d&&e(T,{stringify:!0,properties:d.properties})]}),a(w,{children:[e(p,{isDisabled:!f,variant:"primary",type:"submit","data-testid":"createProvider",children:i("add")}),e(p,{variant:"link","data-testid":"cancel",component:t=>e(E,{...t,to:H({realm:m})}),children:i("cancel")})]})]})})]})}export{ur as default};
//# sourceMappingURL=AddIdentityProvider-D7U8E83w.js.map
