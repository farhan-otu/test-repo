import{jsxs as $,jsx as r}from"react/jsx-runtime";import{a as F,Z as L,a0 as x,a1 as V,c7 as k,c8 as w,aj as E}from"./main-hjbDDO6j.js";import{useState as m,useMemo as I,useEffect as G}from"react";const a=[{unit:"second",label:"times.seconds",multiplier:1},{unit:"minute",label:"times.minutes",multiplier:60},{unit:"hour",label:"times.hours",multiplier:3600},{unit:"day",label:"times.days",multiplier:86400}],j=(t,n=0)=>t.reduce((s,i)=>n%i.multiplier===0&&s.multiplier<i.multiplier?i:s,t[0]),q=(t,n)=>{const s=j(a,t);return new Intl.NumberFormat(n,{style:"unit",unit:s.unit,unitDisplay:"long"}).format(t/s.multiplier)},z=({value:t,units:n=["second","minute","hour","day"],onChange:s,className:i,min:D,menuAppendTo:O,...d})=>{const{t:f}=F(),[b,h]=m(),o=I(()=>a.find(e=>e.unit===n[0])?.multiplier,[n]),[T,p]=m(""),[u,c]=m(o),[y,S]=m(!1),g=I(()=>{const e=n.map(l=>a.find(U=>U.unit===l));return!e.every(l=>l.multiplier===u)&&e[0]!==a[0]&&e.unshift(a[0]),e},[n,u]);G(()=>{const e=j(g,t).multiplier;t?(c(e),p(t/e),h(e)):(p(t||""),c(b??o),h(b??o))},[t,o]);const M=(e,l=u)=>{e!==""?(s?.(e*(l||1)),p(e)):s?.("")};return $(L,{hasGutter:!0,className:i,children:[r(x,{children:r(V,{...d,type:"number","aria-label":"kc-time",min:D||0,value:T,className:`${i}-input`,onChange:(e,l)=>{M(l===""?l:parseInt(l))}})}),r(x,{id:`${i}-select-menu`,children:r(k,{variant:w.single,"aria-label":f("unitLabel"),className:`${i}-select`,onSelect:e=>{c(e),M(T,e),S(!1)},menuAppendTo:O,selections:u,onToggle:()=>{S(!y)},isOpen:y,isDisabled:d.isDisabled,children:g.map(e=>r(E,{id:e.label,value:e.multiplier,children:f(e.label)},e.label))})})]})};export{z as T,q as t};
//# sourceMappingURL=TimeSelector-C-6T-B4N.js.map
