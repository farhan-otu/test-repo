import{jsx as t,jsxs as o,Fragment as d}from"react/jsx-runtime";import{useState as A}from"react";import{a as c,N as I,_ as D,Y as g,O as U,S as j,a1 as y,K as u,J as r,bo as k,$ as b,e as E,bY as x,c as C}from"./main-hjbDDO6j.js";import{D as p}from"./SwitchControl-C_wbgFy3.js";/* empty css                           */import{E as F}from"./ExpandableSection-CqcMlejr.js";import{C as M}from"./ClientIdSecret-CHx560HZ.js";import{R as H,D as q}from"./RedirectUrl-CrIeTDhq.js";const w=({label:e,children:n})=>{const{t:i}=c();return t(I,{label:i(e),fieldId:e,labelIcon:t(D,{helpText:i(`${e}Help`),fieldLabelId:e}),children:n})},K=({label:e,field:n,fieldType:i="string",isReadOnly:a=!1,defaultValue:s})=>{const{t:l}=c(),{control:f}=g();return t(w,{label:e,children:t(U,{name:n,defaultValue:s||(i==="string"?"false":!1),control:f,render:({field:m})=>t(j,{id:e,label:l("on"),labelOff:l("off"),isChecked:i==="string"?m.value==="true":m.value,onChange:(P,h)=>m.onChange(i==="string"?""+h:h),isDisabled:a,"aria-label":e})})})},N=({label:e,field:n,isReadOnly:i=!1})=>{const{register:a}=g();return t(w,{label:e,children:t(y,{id:e,"data-testid":e,readOnly:i,...a(n)})})},v=["plain","S256"],S=({readOnly:e})=>{const{t:n}=c(),{control:i}=g(),a=u({control:i,name:"config.validateSignature"}),s=u({control:i,name:"config.useJwksUrl"}),l=u({control:i,name:"config.pkceEnabled"});return o("div",{className:"pf-v5-c-form pf-m-horizontal",children:[t(r,{name:"config.authorizationUrl",label:n("authorizationUrl"),type:"url",readOnly:e,rules:{required:n("required")}}),t(r,{name:"config.tokenUrl",label:n("tokenUrl"),type:"url",readOnly:e,rules:{required:n("required")}}),t(r,{name:"config.logoutUrl",label:n("logoutUrl"),readOnly:e}),t(r,{name:"config.userInfoUrl",label:n("userInfoUrl"),readOnly:e}),t(r,{name:"config.issuer",label:n("issuer"),readOnly:e}),t(p,{name:"config.validateSignature",label:n("validateSignature"),isDisabled:e,stringify:!0}),a==="true"&&o(d,{children:[t(p,{name:"config.useJwksUrl",label:n("useJwksUrl"),isDisabled:e,stringify:!0}),s==="true"?t(k,{name:"config.jwksUrl",label:n("jwksUrl"),readOnly:e}):o(d,{children:[t(k,{name:"config.publicKeySignatureVerifier",label:n("validatingPublicKey")}),t(r,{name:"config.publicKeySignatureVerifierKeyId",label:n("validatingPublicKeyId"),readOnly:e})]})]}),t(p,{name:"config.pkceEnabled",label:n("pkceEnabled"),isDisabled:e,stringify:!0}),l==="true"&&t(b,{name:"config.pkceMethod",label:n("pkceMethod"),labelIcon:n("pkceMethodHelp"),controller:{defaultValue:v[0]},options:v.map(f=>({key:f,value:n(f)}))})]})},Y=({readOnly:e})=>{const{t:n}=c(),[i,a]=A(!1);return o(d,{children:[e&&t(F,{className:"keycloak__discovery-settings__metadata",toggleText:n(i?"hideMetaData":"showMetaData"),onToggle:()=>a(!i),isExpanded:i,children:t(S,{readOnly:e})}),!e&&t(S,{readOnly:e})]})},_=["client_secret_post","client_secret_basic","client_secret_jwt","private_key_jwt"],L=({create:e=!0})=>{const n=E().providers.clientSignature.providers,{t:i}=c(),{control:a}=g(),s=u({control:a,name:"config.clientAuthMethod"});return o(d,{children:[t(b,{name:"config.clientAuthMethod",label:i("clientAuthentication"),labelIcon:i("clientAuthenticationHelp"),options:_.map(l=>({key:l,value:i(`clientAuthentications.${l}`)})),controller:{defaultValue:_[0]}}),t(M,{secretRequired:s!=="private_key_jwt",create:e}),t(b,{name:"config.clientAssertionSigningAlg",label:i("clientAssertionSigningAlg"),labelIcon:i("clientAssertionSigningAlgHelp"),options:[{key:"",value:i("algorithmNotSpecified")},...x(n).map(l=>({key:l,value:l}))],controller:{defaultValue:""}}),(s==="private_key_jwt"||s==="client_secret_jwt")&&t(N,{field:"config.clientAssertionAudience",label:"clientAssertionAudience"}),s==="private_key_jwt"&&t(K,{field:"config.jwtX509HeadersEnabled",label:"jwtX509HeadersEnabled"})]})},W=()=>{const{t:e}=c(),{tab:n}=C(),{control:i}=g(),a=u({control:i,name:"alias"});return o(d,{children:[t(H,{id:a}),t(r,{name:"alias",label:e("alias"),labelIcon:e("aliasHelp"),readOnly:n==="settings",rules:{required:e("required")}}),t(r,{name:"displayName",label:e("displayName")}),t(q,{})]})};export{Y as D,w as F,W as O,K as S,N as T,L as a};
//# sourceMappingURL=OIDCGeneralSettings-H3mSqwkG.js.map
