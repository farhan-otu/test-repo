import*as s from"react";import ce,{memo as dt,useState as Ne,useRef as j,useCallback as _,useEffect as H,forwardRef as pr,useImperativeHandle as fr,Fragment as dr,useMemo as fe,useReducer as mr}from"react";import{aA as hr,dW as me,dY as he,dZ as ht,d_ as vt,au as mt,ar as vr,bl as gr,f as we,C as $t,bG as yr,a9 as gt,d$ as yt,aa as bt,ab as wt,ad as br,ae as Et,af as tt,as as J,B as wr,e0 as Er}from"./main-hjbDDO6j.js";import{C as Or}from"./copy-icon-ePLWnxgr.js";const rt={button:"pf-v5-c-button",fileUpload:"pf-v5-c-file-upload",fileUploadFileDetails:"pf-v5-c-file-upload__file-details",fileUploadFileDetailsSpinner:"pf-v5-c-file-upload__file-details-spinner",fileUploadFileSelect:"pf-v5-c-file-upload__file-select",formControl:"pf-v5-c-form-control",modifiers:{dragHover:"pf-m-drag-hover",loading:"pf-m-loading",control:"pf-m-control"}};var Bt={exports:{}},Dr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jr=Dr,Cr=jr;function Nt(){}function Ht(){}Ht.resetWarningCache=Nt;var Sr=function(){function e(n,o,i,c,l,p){if(p!==Cr){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ht,resetWarningCache:Nt};return r.PropTypes=r,r};Bt.exports=Sr();var Tr=Bt.exports;const g=hr(Tr);var xr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Se(e,t){var r=Pr(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function Pr(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),o=xr.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Ar=[".DS_Store","Thumbs.db"];function Fr(e){return me(this,void 0,void 0,function(){return he(this,function(t){return He(e)&&_r(e.dataTransfer)?[2,kr(e.dataTransfer,e.type)]:Mr(e)?[2,Ir(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,Rr(e)]:[2,[]]})})}function _r(e){return He(e)}function Mr(e){return He(e)&&He(e.target)}function He(e){return typeof e=="object"&&e!==null}function Ir(e){return lt(e.target.files).map(function(t){return Se(t)})}function Rr(e){return me(this,void 0,void 0,function(){var t;return he(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return Se(n)})]}})})}function kr(e,t){return me(this,void 0,void 0,function(){var r,n;return he(this,function(o){switch(o.label){case 0:return e.items?(r=lt(e.items).filter(function(i){return i.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(zr))]):[3,2];case 1:return n=o.sent(),[2,Ot(Ut(n))];case 2:return[2,Ot(lt(e.files).map(function(i){return Se(i)}))]}})})}function Ot(e){return e.filter(function(t){return Ar.indexOf(t.name)===-1})}function lt(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function zr(e){if(typeof e.webkitGetAsEntry!="function")return Dt(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Vt(t):Dt(e)}function Ut(e){return e.reduce(function(t,r){return ht(ht([],vt(t),!1),vt(Array.isArray(r)?Ut(r):[r]),!1)},[])}function Dt(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=Se(t);return Promise.resolve(r)}function $r(e){return me(this,void 0,void 0,function(){return he(this,function(t){return[2,e.isDirectory?Vt(e):Br(e)]})})}function Vt(e){var t=e.createReader();return new Promise(function(r,n){var o=[];function i(){var c=this;t.readEntries(function(l){return me(c,void 0,void 0,function(){var p,m,T;return he(this,function(v){switch(v.label){case 0:if(l.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return p=v.sent(),r(p),[3,4];case 3:return m=v.sent(),n(m),[3,4];case 4:return[3,6];case 5:T=Promise.all(l.map($r)),o.push(T),i(),v.label=6;case 6:return[2]}})})},function(l){n(l)})}i()})}function Br(e){return me(this,void 0,void 0,function(){return he(this,function(t){return[2,new Promise(function(r,n){e.file(function(o){var i=Se(o,e.fullPath);r(i)},function(o){n(o)})})]})})}var Nr=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return r.some(function(c){var l=c.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):o===l})}return!0};const Hr={name:"CodeIcon",height:512,width:640,svgPath:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z",yOffset:0,xOffset:0},nt=mt(Hr),Ur={name:"DownloadIcon",height:512,width:512,svgPath:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",yOffset:0,xOffset:0},Vr=mt(Ur),Wr={name:"UploadIcon",height:512,width:512,svgPath:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",yOffset:0,xOffset:0},Kr=mt(Wr),B={button:"pf-v5-c-button",codeEditor:"pf-v5-c-code-editor",codeEditorCode:"pf-v5-c-code-editor__code",codeEditorCodePre:"pf-v5-c-code-editor__code-pre",codeEditorControls:"pf-v5-c-code-editor__controls",codeEditorHeader:"pf-v5-c-code-editor__header",codeEditorHeaderMain:"pf-v5-c-code-editor__header-main",codeEditorMain:"pf-v5-c-code-editor__main",codeEditorTab:"pf-v5-c-code-editor__tab",codeEditorTabIcon:"pf-v5-c-code-editor__tab-icon",codeEditorTabText:"pf-v5-c-code-editor__tab-text",modifiers:{readOnly:"pf-m-read-only",control:"pf-m-control",dragHover:"pf-m-drag-hover"},monacoEditor:"monaco-editor",themeDark:"pf-v5-theme-dark"};function qr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jt(Object(r),!0).forEach(function(n){qr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lr(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Gr(e,t){if(e==null)return{};var r=Lr(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yr(e,t){return Jr(e)||Zr(e,t)||Qr(e,t)||Xr()}function Jr(e){if(Array.isArray(e))return e}function Zr(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,o=!1,i=void 0;try{for(var c=e[Symbol.iterator](),l;!(n=(l=c.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(p){o=!0,i=p}finally{try{!n&&c.return!=null&&c.return()}finally{if(o)throw i}}return r}}function Qr(e,t){if(e){if(typeof e=="string")return St(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return St(e,t)}}function St(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function en(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tt(Object(r),!0).forEach(function(n){en(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(o,i){return i(o)},n)}}function Ee(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return t.apply(r,[].concat(o,l))}}}function Ue(e){return{}.toString.call(e).includes("Object")}function rn(e){return!Object.keys(e).length}function De(e){return typeof e=="function"}function nn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function on(e,t){return Ue(t)||ne("changeType"),Object.keys(t).some(function(r){return!nn(e,r)})&&ne("changeField"),t}function an(e){De(e)||ne("selectorType")}function cn(e){De(e)||Ue(e)||ne("handlerType"),Ue(e)&&Object.values(e).some(function(t){return!De(t)})&&ne("handlersType")}function ln(e){e||ne("initialIsRequired"),Ue(e)||ne("initialType"),rn(e)&&ne("initialContent")}function sn(e,t){throw new Error(e[t]||e.default)}var un={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ne=Ee(sn)(un),ke={changes:on,selector:an,handler:cn,initial:ln};function pn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ke.initial(e),ke.handler(t);var r={current:e},n=Ee(mn)(r,t),o=Ee(dn)(r),i=Ee(ke.changes)(e),c=Ee(fn)(r);function l(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(T){return T};return ke.selector(m),m(r.current)}function p(m){tn(n,o,i,c)(m)}return[l,p]}function fn(e,t){return De(t)?t(e.current):t}function dn(e,t){return e.current=xt(xt({},e.current),t),t}function mn(e,t,r){return De(t)?t(e.current):Object.keys(r).forEach(function(n){var o;return(o=t[n])===null||o===void 0?void 0:o.call(t,e.current[n])}),r}var hn={create:pn},vn={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function gn(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return t.apply(r,[].concat(o,l))}}}function yn(e){return{}.toString.call(e).includes("Object")}function bn(e){return e||Pt("configIsRequired"),yn(e)||Pt("configType"),e.urls?(wn(),{paths:{vs:e.urls.monacoBase}}):e}function wn(){console.warn(Wt.deprecation)}function En(e,t){throw new Error(e[t]||e.default)}var Wt={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Pt=gn(En)(Wt),On={config:bn},Dn=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(o){return r.reduceRight(function(i,c){return c(i)},o)}};function Kt(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],Kt(e[r],t[r]))}),Ct(Ct({},e),t)}var jn={type:"cancelation",msg:"operation is manually canceled"};function ot(e){var t=!1,r=new Promise(function(n,o){e.then(function(i){return t?o(jn):n(i)}),e.catch(o)});return r.cancel=function(){return t=!0},r}var Cn=hn.create({config:vn,isInitialized:!1,resolve:null,reject:null,monaco:null}),qt=Yr(Cn,2),Te=qt[0],Ke=qt[1];function Sn(e){var t=On.config(e),r=t.monaco,n=Gr(t,["monaco"]);Ke(function(o){return{config:Kt(o.config,n),monaco:r}})}function Tn(){var e=Te(function(t){var r=t.monaco,n=t.isInitialized,o=t.resolve;return{monaco:r,isInitialized:n,resolve:o}});if(!e.isInitialized){if(Ke({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ot(it);if(window.monaco&&window.monaco.editor)return Lt(window.monaco),e.resolve(window.monaco),ot(it);Dn(xn,An)(Fn)}return ot(it)}function xn(e){return document.body.appendChild(e)}function Pn(e){var t=document.createElement("script");return e&&(t.src=e),t}function An(e){var t=Te(function(n){var o=n.config,i=n.reject;return{config:o,reject:i}}),r=Pn("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Fn(){var e=Te(function(r){var n=r.config,o=r.resolve,i=r.reject;return{config:n,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){Lt(r),e.resolve(r)},function(r){e.reject(r)})}function Lt(e){Te().monaco||Ke({monaco:e})}function _n(){return Te(function(e){var t=e.monaco;return t})}var it=new Promise(function(e,t){return Ke({resolve:e,reject:t})}),Gt={config:Sn,init:Tn,__getMonacoInstance:_n},Mn={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},at=Mn,In={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Rn=In;function kn({children:e}){return ce.createElement("div",{style:Rn.container},e)}var zn=kn,$n=zn;function Bn({width:e,height:t,isEditorReady:r,loading:n,_ref:o,className:i,wrapperProps:c}){return ce.createElement("section",{style:{...at.wrapper,width:e,height:t},...c},!r&&ce.createElement($n,null,n),ce.createElement("div",{ref:o,style:{...at.fullWidth,...!r&&at.hide},className:i}))}var Nn=Bn,Yt=dt(Nn);function Hn(e){H(e,[])}var Jt=Hn;function Un(e,t,r=!0){let n=j(!0);H(n.current||!r?()=>{n.current=!1}:e,t)}var k=Un;function Oe(){}function de(e,t,r,n){return Vn(e,n)||Wn(e,t,r,n)}function Vn(e,t){return e.editor.getModel(Zt(e,t))}function Wn(e,t,r,n){return e.editor.createModel(t,r,n?Zt(e,n):void 0)}function Zt(e,t){return e.Uri.parse(t)}function Kn({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:c,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:p=!1,theme:m="light",loading:T="Loading...",options:v={},height:M="100%",width:U="100%",className:V,wrapperProps:W={},beforeMount:Q=Oe,onMount:ee=Oe}){let[x,K]=Ne(!1),[z,y]=Ne(!0),O=j(null),h=j(null),q=j(null),b=j(ee),d=j(Q),I=j(!1);Jt(()=>{let f=Gt.init();return f.then(D=>(h.current=D)&&y(!1)).catch(D=>D?.type!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>O.current?w():f.cancel()}),k(()=>{if(O.current&&h.current){let f=O.current.getOriginalEditor(),D=de(h.current,e||"",n||r||"text",i||"");D!==f.getModel()&&f.setModel(D)}},[i],x),k(()=>{if(O.current&&h.current){let f=O.current.getModifiedEditor(),D=de(h.current,t||"",o||r||"text",c||"");D!==f.getModel()&&f.setModel(D)}},[c],x),k(()=>{let f=O.current.getModifiedEditor();f.getOption(h.current.editor.EditorOption.readOnly)?f.setValue(t||""):t!==f.getValue()&&(f.executeEdits("",[{range:f.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),f.pushUndoStop())},[t],x),k(()=>{O.current?.getModel()?.original.setValue(e||"")},[e],x),k(()=>{let{original:f,modified:D}=O.current.getModel();h.current.editor.setModelLanguage(f,n||r||"text"),h.current.editor.setModelLanguage(D,o||r||"text")},[r,n,o],x),k(()=>{h.current?.editor.setTheme(m)},[m],x),k(()=>{O.current?.updateOptions(v)},[v],x);let L=_(()=>{if(!h.current)return;d.current(h.current);let f=de(h.current,e||"",n||r||"text",i||""),D=de(h.current,t||"",o||r||"text",c||"");O.current?.setModel({original:f,modified:D})},[r,t,o,e,n,i,c]),G=_(()=>{!I.current&&q.current&&(O.current=h.current.editor.createDiffEditor(q.current,{automaticLayout:!0,...v}),L(),h.current?.editor.setTheme(m),K(!0),I.current=!0)},[v,m,L]);H(()=>{x&&b.current(O.current,h.current)},[x]),H(()=>{!z&&!x&&G()},[z,x,G]);function w(){let f=O.current?.getModel();l||f?.original?.dispose(),p||f?.modified?.dispose(),O.current?.dispose()}return ce.createElement(Yt,{width:U,height:M,isEditorReady:x,loading:T,_ref:q,className:V,wrapperProps:W})}var qn=Kn;dt(qn);function Ln(e){let t=j();return H(()=>{t.current=e},[e]),t.current}var Gn=Ln,ze=new Map;function Yn({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:o,path:i,theme:c="light",line:l,loading:p="Loading...",options:m={},overrideServices:T={},saveViewState:v=!0,keepCurrentModel:M=!1,width:U="100%",height:V="100%",className:W,wrapperProps:Q={},beforeMount:ee=Oe,onMount:x=Oe,onChange:K,onValidate:z=Oe}){let[y,O]=Ne(!1),[h,q]=Ne(!0),b=j(null),d=j(null),I=j(null),L=j(x),G=j(ee),w=j(),f=j(n),D=Gn(i),oe=j(!1),X=j(!1);Jt(()=>{let C=Gt.init();return C.then(F=>(b.current=F)&&q(!1)).catch(F=>F?.type!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>d.current?ve():C.cancel()}),k(()=>{let C=de(b.current,e||n||"",t||o||"",i||r||"");C!==d.current?.getModel()&&(v&&ze.set(D,d.current?.saveViewState()),d.current?.setModel(C),v&&d.current?.restoreViewState(ze.get(i)))},[i],y),k(()=>{d.current?.updateOptions(m)},[m],y),k(()=>{!d.current||n===void 0||(d.current.getOption(b.current.editor.EditorOption.readOnly)?d.current.setValue(n):n!==d.current.getValue()&&(X.current=!0,d.current.executeEdits("",[{range:d.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),d.current.pushUndoStop(),X.current=!1))},[n],y),k(()=>{let C=d.current?.getModel();C&&o&&b.current?.editor.setModelLanguage(C,o)},[o],y),k(()=>{l!==void 0&&d.current?.revealLine(l)},[l],y),k(()=>{b.current?.editor.setTheme(c)},[c],y);let P=_(()=>{if(!(!I.current||!b.current)&&!oe.current){G.current(b.current);let C=i||r,F=de(b.current,n||e||"",t||o||"",C||"");d.current=b.current?.editor.create(I.current,{model:F,automaticLayout:!0,...m},T),v&&d.current.restoreViewState(ze.get(C)),b.current.editor.setTheme(c),l!==void 0&&d.current.revealLine(l),O(!0),oe.current=!0}},[e,t,r,n,o,i,m,T,v,c,l]);H(()=>{y&&L.current(d.current,b.current)},[y]),H(()=>{!h&&!y&&P()},[h,y,P]),f.current=n,H(()=>{y&&K&&(w.current?.dispose(),w.current=d.current?.onDidChangeModelContent(C=>{X.current||K(d.current.getValue(),C)}))},[y,K]),H(()=>{if(y){let C=b.current.editor.onDidChangeMarkers(F=>{let te=d.current.getModel()?.uri;if(te&&F.find($=>$.path===te.path)){let $=b.current.editor.getModelMarkers({resource:te});z?.($)}});return()=>{C?.dispose()}}return()=>{}},[y,z]);function ve(){w.current?.dispose(),M?v&&ze.set(i,d.current.saveViewState()):d.current.getModel()?.dispose(),d.current.dispose()}return ce.createElement(Yt,{width:U,height:V,isEditorReady:y,loading:p,_ref:I,className:W,wrapperProps:Q})}var Jn=Yn,Zn=dt(Jn),Qn=Zn;function At(e){return to(e)||eo(e)||Xt(e)||Xn()}function Xn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function to(e){if(Array.isArray(e))return st(e)}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ft(Object(r),!0).forEach(function(n){Qt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e,t){return oo(e)||no(e,t)||Xt(e,t)||ro()}function ro(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xt(e,t){if(e){if(typeof e=="string")return st(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return st(e,t)}}function st(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function no(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,c,l;try{for(r=r.call(e);!(o=(c=r.next()).done)&&(n.push(c.value),!(t&&n.length===t));o=!0);}catch(p){i=!0,l=p}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function oo(e){if(Array.isArray(e))return e}var io="file-invalid-type",ao="file-too-large",co="file-too-small",lo="too-many-files",so=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:io,message:"File type must be ".concat(r)}},Mt=function(t){return{code:ao,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},It=function(t){return{code:co,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},uo={code:lo,message:"Too many files"};function er(e,t){var r=e.type==="application/x-moz-file"||Nr(e,t);return[r,r?null:so(t)]}function tr(e,t,r){if(ae(e.size))if(ae(t)&&ae(r)){if(e.size>r)return[!1,Mt(r)];if(e.size<t)return[!1,It(t)]}else{if(ae(t)&&e.size<t)return[!1,It(t)];if(ae(r)&&e.size>r)return[!1,Mt(r)]}return[!0,null]}function ae(e){return e!=null}function po(e){var t=e.files,r=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,c=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&c>=1&&t.length>c?!1:t.every(function(p){var m=er(p,r),T=je(m,1),v=T[0],M=tr(p,n,o),U=je(M,1),V=U[0],W=l?l(p):null;return v&&V&&!W})}function Ve(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function $e(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Rt(e){e.preventDefault()}function fo(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function mo(e){return e.indexOf("Edge/")!==-1}function ho(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return fo(e)||mo(e)}function Z(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return t.some(function(l){return!Ve(n)&&l&&l.apply(void 0,[n].concat(i)),Ve(n)})}}function vo(){return"showOpenFilePicker"in window}function go(e){if(ae(e)){var t=Object.entries(e).filter(function(r){var n=je(r,2),o=n[0],i=n[1],c=!0;return rr(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(i)||!i.every(nr))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(r,n){var o=je(n,2),i=o[0],c=o[1];return _t(_t({},r),{},Qt({},i,c))},{});return[{description:"Files",accept:t}]}return e}function yo(e){if(ae(e))return Object.entries(e).reduce(function(t,r){var n=je(r,2),o=n[0],i=n[1];return[].concat(At(t),[o],At(i))},[]).filter(function(t){return rr(t)||nr(t)}).join(",")}function bo(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function wo(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function rr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function nr(e){return/^.*\.[\w]+$/.test(e)}var Eo=["children"],Oo=["open"],Do=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],jo=["refKey","onChange","onClick"];function Co(e){return xo(e)||To(e)||or(e)||So()}function So(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function To(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xo(e){if(Array.isArray(e))return ut(e)}function ct(e,t){return Fo(e)||Ao(e,t)||or(e,t)||Po()}function Po(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(e,t){if(e){if(typeof e=="string")return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ut(e,t)}}function ut(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ao(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,c,l;try{for(r=r.call(e);!(o=(c=r.next()).done)&&(n.push(c.value),!(t&&n.length===t));o=!0);}catch(p){i=!0,l=p}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function Fo(e){if(Array.isArray(e))return e}function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kt(Object(r),!0).forEach(function(n){pt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function We(e,t){if(e==null)return{};var r=_o(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _o(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var qe=pr(function(e,t){var r=e.children,n=We(e,Eo),o=Mo(n),i=o.open,c=We(o,Oo);return fr(t,function(){return{open:i}},[i]),ce.createElement(dr,null,r(E(E({},c),{},{open:i})))});qe.displayName="Dropzone";var ir={disabled:!1,getFilesFromEvent:Fr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};qe.defaultProps=ir;qe.propTypes={children:g.func,accept:g.objectOf(g.arrayOf(g.string)),multiple:g.bool,preventDropOnDocument:g.bool,noClick:g.bool,noKeyboard:g.bool,noDrag:g.bool,noDragEventsBubbling:g.bool,minSize:g.number,maxSize:g.number,maxFiles:g.number,disabled:g.bool,getFilesFromEvent:g.func,onFileDialogCancel:g.func,onFileDialogOpen:g.func,useFsAccessApi:g.bool,autoFocus:g.bool,onDragEnter:g.func,onDragLeave:g.func,onDragOver:g.func,onDrop:g.func,onDropAccepted:g.func,onDropRejected:g.func,onError:g.func,validator:g.func};var ft={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Mo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=E(E({},ir),e),r=t.accept,n=t.disabled,o=t.getFilesFromEvent,i=t.maxSize,c=t.minSize,l=t.multiple,p=t.maxFiles,m=t.onDragEnter,T=t.onDragLeave,v=t.onDragOver,M=t.onDrop,U=t.onDropAccepted,V=t.onDropRejected,W=t.onFileDialogCancel,Q=t.onFileDialogOpen,ee=t.useFsAccessApi,x=t.autoFocus,K=t.preventDropOnDocument,z=t.noClick,y=t.noKeyboard,O=t.noDrag,h=t.noDragEventsBubbling,q=t.onError,b=t.validator,d=fe(function(){return yo(r)},[r]),I=fe(function(){return go(r)},[r]),L=fe(function(){return typeof Q=="function"?Q:zt},[Q]),G=fe(function(){return typeof W=="function"?W:zt},[W]),w=j(null),f=j(null),D=mr(Io,ft),oe=ct(D,2),X=oe[0],P=oe[1],ve=X.isFocused,C=X.isFileDialogActive,F=j(typeof window<"u"&&window.isSecureContext&&ee&&vo()),te=function(){!F.current&&C&&setTimeout(function(){if(f.current){var u=f.current.files;u.length||(P({type:"closeDialog"}),G())}},300)};H(function(){return window.addEventListener("focus",te,!1),function(){window.removeEventListener("focus",te,!1)}},[f,C,G,F]);var $=j([]),xe=function(u){w.current&&w.current.contains(u.target)||(u.preventDefault(),$.current=[])};H(function(){return K&&(document.addEventListener("dragover",Rt,!1),document.addEventListener("drop",xe,!1)),function(){K&&(document.removeEventListener("dragover",Rt),document.removeEventListener("drop",xe))}},[w,K]),H(function(){return!n&&x&&w.current&&w.current.focus(),function(){}},[w,x,n]);var Y=_(function(a){q?q(a):console.error(a)},[q]),Pe=_(function(a){a.preventDefault(),a.persist(),Ie(a),$.current=[].concat(Co($.current),[a.target]),$e(a)&&Promise.resolve(o(a)).then(function(u){if(!(Ve(a)&&!h)){var S=u.length,A=S>0&&po({files:u,accept:d,minSize:c,maxSize:i,multiple:l,maxFiles:p,validator:b}),R=S>0&&!A;P({isDragAccept:A,isDragReject:R,isDragActive:!0,type:"setDraggedFiles"}),m&&m(a)}}).catch(function(u){return Y(u)})},[o,m,Y,h,d,c,i,l,p,b]),Ae=_(function(a){a.preventDefault(),a.persist(),Ie(a);var u=$e(a);if(u&&a.dataTransfer)try{a.dataTransfer.dropEffect="copy"}catch{}return u&&v&&v(a),!1},[v,h]),Fe=_(function(a){a.preventDefault(),a.persist(),Ie(a);var u=$.current.filter(function(A){return w.current&&w.current.contains(A)}),S=u.indexOf(a.target);S!==-1&&u.splice(S,1),$.current=u,!(u.length>0)&&(P({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$e(a)&&T&&T(a))},[w,T,h]),le=_(function(a,u){var S=[],A=[];a.forEach(function(R){var be=er(R,d),pe=ct(be,2),Ge=pe[0],Ye=pe[1],Je=tr(R,c,i),Re=ct(Je,2),Ze=Re[0],Qe=Re[1],Xe=b?b(R):null;if(Ge&&Ze&&!Xe)S.push(R);else{var et=[Ye,Qe];Xe&&(et=et.concat(Xe)),A.push({file:R,errors:et.filter(function(ur){return ur})})}}),(!l&&S.length>1||l&&p>=1&&S.length>p)&&(S.forEach(function(R){A.push({file:R,errors:[uo]})}),S.splice(0)),P({acceptedFiles:S,fileRejections:A,type:"setFiles"}),M&&M(S,A,u),A.length>0&&V&&V(A,u),S.length>0&&U&&U(S,u)},[P,l,d,c,i,p,M,U,V,b]),ie=_(function(a){a.preventDefault(),a.persist(),Ie(a),$.current=[],$e(a)&&Promise.resolve(o(a)).then(function(u){Ve(a)&&!h||le(u,a)}).catch(function(u){return Y(u)}),P({type:"reset"})},[o,le,Y,h]),re=_(function(){if(F.current){P({type:"openDialog"}),L();var a={multiple:l,types:I};window.showOpenFilePicker(a).then(function(u){return o(u)}).then(function(u){le(u,null),P({type:"closeDialog"})}).catch(function(u){bo(u)?(G(u),P({type:"closeDialog"})):wo(u)?(F.current=!1,f.current?(f.current.value=null,f.current.click()):Y(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Y(u)});return}f.current&&(P({type:"openDialog"}),L(),f.current.value=null,f.current.click())},[P,L,G,ee,le,Y,I,l]),se=_(function(a){!w.current||!w.current.isEqualNode(a.target)||(a.key===" "||a.key==="Enter"||a.keyCode===32||a.keyCode===13)&&(a.preventDefault(),re())},[w,re]),ge=_(function(){P({type:"focus"})},[]),ye=_(function(){P({type:"blur"})},[]),_e=_(function(){z||(ho()?setTimeout(re,0):re())},[z,re]),ue=function(u){return n?null:u},Le=function(u){return y?null:ue(u)},Me=function(u){return O?null:ue(u)},Ie=function(u){h&&u.stopPropagation()},cr=fe(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.refKey,S=u===void 0?"ref":u,A=a.role,R=a.onKeyDown,be=a.onFocus,pe=a.onBlur,Ge=a.onClick,Ye=a.onDragEnter,Je=a.onDragOver,Re=a.onDragLeave,Ze=a.onDrop,Qe=We(a,Do);return E(E(pt({onKeyDown:Le(Z(R,se)),onFocus:Le(Z(be,ge)),onBlur:Le(Z(pe,ye)),onClick:ue(Z(Ge,_e)),onDragEnter:Me(Z(Ye,Pe)),onDragOver:Me(Z(Je,Ae)),onDragLeave:Me(Z(Re,Fe)),onDrop:Me(Z(Ze,ie)),role:typeof A=="string"&&A!==""?A:"presentation"},S,w),!n&&!y?{tabIndex:0}:{}),Qe)}},[w,se,ge,ye,_e,Pe,Ae,Fe,ie,y,O,n]),lr=_(function(a){a.stopPropagation()},[]),sr=fe(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.refKey,S=u===void 0?"ref":u,A=a.onChange,R=a.onClick,be=We(a,jo),pe=pt({accept:d,multiple:l,type:"file",style:{display:"none"},onChange:ue(Z(A,ie)),onClick:ue(Z(R,lr)),tabIndex:-1},S,f);return E(E({},pe),be)}},[f,r,l,ie,n]);return E(E({},X),{},{isFocused:ve&&!n,getRootProps:cr,getInputProps:sr,rootRef:w,inputRef:f,open:ue(re)})}function Io(e,t){switch(t.type){case"focus":return E(E({},e),{},{isFocused:!0});case"blur":return E(E({},e),{},{isFocused:!1});case"openDialog":return E(E({},ft),{},{isFileDialogActive:!0});case"closeDialog":return E(E({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return E(E({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return E(E({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return E({},ft);default:return e}}function zt(){}const ar=s.createContext(null),Be=e=>{var{icon:t,className:r,"aria-label":n,onClick:o=()=>{},isVisible:i=!0,tooltipProps:c={}}=e,l=vr(e,["icon","className","aria-label","onClick","isVisible","tooltipProps"]);const p=s.useContext(ar),m=T=>{o(p.code,T)};return i?s.createElement(gr,Object.assign({},c),s.createElement(we,Object.assign({className:r,onClick:m,variant:"control","aria-label":n},l),t)):null};Be.displayName="CodeEditorControl";var N;(function(e){e.abap="abap",e.aes="aes",e.apex="apex",e.azcli="azcli",e.bat="bat",e.bicep="bicep",e.c="c",e.cameligo="cameligo",e.clojure="clojure",e.coffeescript="coffeescript",e.cpp="cpp",e.csharp="csharp",e.csp="csp",e.css="css",e.dart="dart",e.dockerfile="dockerfile",e.ecl="ecl",e.elixir="elixir",e.fsharp="fsharp",e.go="go",e.graphql="graphql",e.handlebars="handlebars",e.hcl="hcl",e.html="html",e.ini="ini",e.java="java",e.javascript="javascript",e.json="json",e.julia="julia",e.kotlin="kotlin",e.less="less",e.lexon="lexon",e.liquid="liquid",e.lua="lua",e.m3="m3",e.markdown="markdown",e.mips="mips",e.msdax="msdax",e.mysql="mysql",e["objective-c"]="objective-c",e.pascal="pascal",e.pascaligo="pascaligo",e.perl="perl",e.pgsql="pgsql",e.php="php",e.plaintext="plaintext",e.postiats="postiats",e.powerquery="powerquery",e.powershell="powershell",e.pug="pug",e.python="python",e.r="r",e.razor="razor",e.redis="redis",e.redshift="redshift",e.restructuredtext="restructuredtext",e.ruby="ruby",e.rust="rust",e.sb="sb",e.scala="scala",e.scheme="scheme",e.scss="scss",e.shell="shell",e.sol="sol",e.sql="sql",e.st="st",e.swift="swift",e.systemverilog="systemverilog",e.tcl="tcl",e.twig="twig",e.typescript="typescript",e.vb="vb",e.verilog="verilog",e.xml="xml",e.yaml="yaml"})(N||(N={}));class Ce extends s.Component{static getExtensionFromLanguage(t){switch(t){case N.shell:return"sh";case N.ruby:return"rb";case N.perl:return"pl";case N.python:return"py";case N.mysql:return"sql";case N.javascript:return"js";case N.typescript:return"ts";case N.markdown:return"md";case N.plaintext:return"txt";default:return t.toString()}}constructor(t){super(t),this.editor=null,this.wrapperRef=s.createRef(),this.ref=s.createRef(),this.timer=null,this.observer=()=>{},this.onChange=(r,n)=>{this.props.height==="sizeToFit"&&this.setHeightToFitContent(),this.props.onChange&&this.props.onChange(r,n),this.setState({value:r}),this.props.onCodeChange(r)},this.handleResize=()=>{this.editor&&this.editor.layout()},this.handleGlobalKeys=r=>{var n;this.wrapperRef.current===document.activeElement&&(r.key==="ArrowDown"||r.key===" ")&&((n=this.editor)===null||n===void 0||n.focus(),r.preventDefault())},this.editorDidMount=(r,n)=>{r.addCommand(n.KeyMod.Shift|n.KeyCode.Tab,()=>this.wrapperRef.current.focus()),Array.from(document.getElementsByClassName("monaco-editor")).forEach(o=>o.removeAttribute("role")),this.props.onEditorDidMount(r,n),this.editor=r,this.props.height==="sizeToFit"&&this.setHeightToFitContent()},this.handleFileChange=(r,n)=>{this.setState({value:r,filename:n}),this.props.onCodeChange(r)},this.handleFileReadStarted=()=>this.setState({isLoading:!0}),this.handleFileReadFinished=()=>this.setState({isLoading:!1}),this.onDropAccepted=r=>{if(r.length>0){const n=r[0];this.handleFileChange("",n.name),this.handleFileReadStarted(),this.readFile(n).then(o=>{this.handleFileReadFinished(),this.toggleEmptyState(),this.handleFileChange(o,n.name)}).catch(o=>{console.error("error",o),this.handleFileReadFinished(),this.handleFileChange("","")})}},this.onDropRejected=r=>{r.length>0&&console.error("There was an error accepting that dropped file")},this.copyCode=()=>{navigator.clipboard.writeText(this.state.value),this.setState({copied:!0})},this.download=()=>{const{value:r}=this.state,n=document.createElement("a"),o=new Blob([r],{type:"text"});n.href=URL.createObjectURL(o),n.download=`${this.props.downloadFileName}.${Ce.getExtensionFromLanguage(this.props.language)}`,document.body.appendChild(n),n.click()},this.toggleEmptyState=()=>{this.setState({showEmptyState:!1})},this.state={height:this.props.height,prevPropsCode:this.props.code,value:this.props.code,filename:"",isLoading:!1,showEmptyState:!0,copied:!1}}setHeightToFitContent(){const t=this.editor.getContentHeight(),r=this.editor.getLayoutInfo();this.editor.layout({width:r.width,height:t})}static getDerivedStateFromProps(t,r){return t.code!==r.prevPropsCode?{value:t.code,prevPropsCode:t.code}:null}componentDidMount(){document.addEventListener("keydown",this.handleGlobalKeys),this.observer=yr(this.ref.current,this.handleResize,!0),this.handleResize()}componentWillUnmount(){document.removeEventListener("keydown",this.handleGlobalKeys),this.observer()}readFile(t){return new Promise((r,n)=>{const o=new FileReader;o.onload=()=>r(o.result),o.onerror=()=>n(o.error),o.readAsText(t)})}render(){const{height:t,value:r,isLoading:n,showEmptyState:o,copied:i}=this.state,{isDarkTheme:c,width:l,className:p,isCopyEnabled:m,copyButtonSuccessTooltipText:T,isReadOnly:v,isUploadEnabled:M,isLanguageLabelVisible:U,copyButtonAriaLabel:V,copyButtonToolTipText:W,uploadButtonAriaLabel:Q,uploadButtonToolTipText:ee,downloadButtonAriaLabel:x,downloadButtonToolTipText:K,toolTipDelay:z,toolTipCopyExitDelay:y,toolTipMaxWidth:O,toolTipPosition:h,isLineNumbersVisible:q,isDownloadEnabled:b,language:d,emptyState:I,emptyStateTitle:L,emptyStateBody:G,emptyStateButton:w,emptyStateLink:f,customControls:D,isMinimapVisible:oe,headerMainContent:X,shortcutsPopoverButtonText:P,shortcutsPopoverProps:ve,showEditor:C,options:F,overrideServices:te,loading:$,editorProps:xe}=this.props,Y=Object.assign(Object.assign({},Ce.defaultProps.shortcutsPopoverProps),ve),Pe=Object.assign({scrollBeyondLastLine:t!=="sizeToFit",readOnly:v,cursorStyle:"line",lineNumbers:q?"on":"off",tabIndex:-1,minimap:{enabled:oe}},F);return s.createElement(qe,{multiple:!1,onDropAccepted:this.onDropAccepted,onDropRejected:this.onDropRejected},({getRootProps:Ae,getInputProps:Fe,isDragActive:le,open:ie})=>{const re=I||(M?s.createElement(gt,{variant:yt.sm},s.createElement(bt,{titleText:L,icon:s.createElement(wt,{icon:nt}),headingLevel:"h4"}),s.createElement(br,null,G),!v&&s.createElement(Et,null,s.createElement(tt,null,s.createElement(we,{variant:"primary",onClick:ie},w)),s.createElement(tt,null,s.createElement(we,{variant:"link",onClick:this.toggleEmptyState},f)))):s.createElement(gt,{variant:yt.sm},s.createElement(bt,{titleText:L,icon:s.createElement(wt,{icon:nt}),headingLevel:"h4"}),!v&&s.createElement(Et,null,s.createElement(tt,null,s.createElement(we,{variant:"primary",onClick:this.toggleEmptyState},f))))),se={position:h,exitDelay:z,entryDelay:z,maxWidth:O,trigger:"mouseenter focus"},ge=s.createElement("div",{className:J(B.codeEditorHeader)},s.createElement("div",{className:J(B.codeEditorControls)},s.createElement(ar.Provider,{value:{code:r}},m&&(!o||!!r)&&s.createElement(Be,{icon:s.createElement(Or,null),"aria-label":V,tooltipProps:Object.assign(Object.assign({},se),{"aria-live":"polite",content:s.createElement("div",null,i?T:W),exitDelay:i?y:z,onTooltipHidden:()=>this.setState({copied:!1})}),onClick:this.copyCode}),M&&s.createElement(Be,{icon:s.createElement(Kr,null),"aria-label":Q,tooltipProps:Object.assign({content:s.createElement("div",null,ee)},se),onClick:ie}),b&&(!o||!!r)&&s.createElement(Be,{icon:s.createElement(Vr,null),"aria-label":x,tooltipProps:Object.assign({content:s.createElement("div",null,K)},se),onClick:this.download}),D&&D)),s.createElement("div",{className:J(B.codeEditorHeaderMain)},X),!!Y.bodyContent&&s.createElement("div",{className:`${B.codeEditor}__keyboard-shortcuts`},s.createElement($t,Object.assign({},Y),s.createElement(we,{variant:wr.link,icon:s.createElement(Er,null)},P))),U&&s.createElement("div",{className:J(B.codeEditorTab)},s.createElement("span",{className:J(B.codeEditorTabIcon)},s.createElement(nt,null)),s.createElement("span",{className:J(B.codeEditorTabText)},d.toUpperCase()))),ye=s.createElement("div",{className:J(B.codeEditorCode),ref:this.wrapperRef,tabIndex:0,dir:"ltr"},s.createElement(Qn,Object.assign({height:t,width:l,language:d,value:r,options:Pe,overrideServices:te,onChange:this.onChange,onMount:this.editorDidMount,theme:c?"vs-dark":"vs-light",loading:$},xe)));return s.createElement("div",{className:J(B.codeEditor,v&&B.modifiers.readOnly,p),ref:this.ref},M||I?s.createElement("div",Object.assign({},Ae({onClick:_e=>_e.stopPropagation()}),{className:`${rt.fileUpload} ${le&&rt.modifiers.dragHover} ${n&&rt.modifiers.loading}`}),ge,s.createElement("div",{className:J(B.codeEditorMain)},s.createElement("input",Object.assign({},Fe())),(o||I)&&!r?re:ye)):s.createElement(s.Fragment,null,ge,C&&s.createElement("div",{className:J(B.codeEditorMain)},ye)))})}}Ce.displayName="CodeEditor";Ce.defaultProps={className:"",code:"",onEditorDidMount:()=>{},language:N.plaintext,isDarkTheme:!1,height:"",width:"",isLineNumbersVisible:!0,isReadOnly:!1,isLanguageLabelVisible:!1,loading:"",emptyState:"",emptyStateTitle:"Start editing",emptyStateBody:"Drag and drop a file or upload one.",emptyStateButton:"Browse",emptyStateLink:"Start from scratch",downloadFileName:Date.now().toString(),isUploadEnabled:!1,isDownloadEnabled:!1,isCopyEnabled:!1,copyButtonAriaLabel:"Copy code to clipboard",uploadButtonAriaLabel:"Upload code",downloadButtonAriaLabel:"Download code",copyButtonToolTipText:"Copy to clipboard",uploadButtonToolTipText:"Upload",downloadButtonToolTipText:"Download",copyButtonSuccessTooltipText:"Content added to clipboard",toolTipCopyExitDelay:1600,toolTipDelay:300,toolTipMaxWidth:"100px",toolTipPosition:"top",customControls:null,isMinimapVisible:!1,headerMainContent:"",shortcutsPopoverButtonText:"View Shortcuts",shortcutsPopoverProps:Object.assign({bodyContent:"","aria-label":"Keyboard Shortcuts"},$t.defaultProps),showEditor:!0,options:{},overrideServices:{},onCodeChange:()=>{}};export{Ce as C,N as L,g as P,Nr as _,Fr as a,rt as f};
//# sourceMappingURL=CodeEditor-BF8OqNGf.js.map
