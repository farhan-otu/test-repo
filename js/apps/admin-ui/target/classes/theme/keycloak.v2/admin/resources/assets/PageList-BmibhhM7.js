import{jsxs as b,jsx as t}from"react/jsx-runtime";import{u as L,a as R,V as w,b as x,c as A,d as u,e as B,B as k,P as E,w as N,T as $,f as F,L as f,g as c,h as G,i as H,t as O}from"./main-hjbDDO6j.js";import{useState as d}from"react";import{u as _}from"./ConfirmDialog-DN_NVsrg.js";import{V as j}from"./ViewHeader-Dr6ZoEJz.js";import{P as p}from"./constants-BclHbWtx.js";import"react-dom";const q=({obj:s,field:a})=>{const{realm:o}=u(),i=H(s,a);return t(f,{to:O({realm:o,providerId:s.providerId,id:s.id}),children:i},i)};function Z(){const{adminClient:s}=L(),{t:a}=R(),{addAlert:o,addError:i}=w(),g=x(),{providerId:y}=A(),[l,I]=d(0),v=()=>I(l+1),{realm:m,realmRepresentation:h}=u(),[D,P]=d(),{componentTypes:C}=B(),r=C?.[p]?.find(e=>e.id===y),K=async()=>{const e={parent:h?.id,type:p};return await s.components.find({...e})},[S,T]=_({titleKey:"itemDeleteConfirmTitle",messageKey:"itemDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:k.danger,onConfirm:async()=>{try{await s.components.del({id:D.id}),o(a("itemDeletedSuccess")),v()}catch(e){i("itemSaveError",e)}}});return b(E,{variant:"light",className:"pf-v5-u-p-0",children:[t(T,{}),t(j,{titleKey:r.id,subKey:r.helpText,divider:!1}),t(N,{toolbarItem:t($,{children:t(F,{component:e=>t(f,{...e,to:c({realm:m,providerId:r.id})}),children:a("createItem")})}),actionResolver:e=>[{title:a("delete"),onClick(){P(e.data),S()}}],searchPlaceholderKey:"searchItem",loader:K,columns:[...(r.metadata.displayFields||r.properties.slice(0,3).map(e=>e.name)).map((e,V)=>({name:`config.${e}[0]`,displayKey:r.properties.find(n=>n.name===e).label,cellRenderer:V===0?n=>t(q,{obj:n,field:`config.${e}`}):void 0}))],ariaLabelKey:"list",emptyState:t(G,{hasIcon:!0,message:a("noItems"),instructions:a("noItemsInstructions"),primaryActionText:a("createItem"),onPrimaryAction:()=>g(c({realm:m,providerId:r.id}))})},l)]})}export{Z as default};
//# sourceMappingURL=PageList-BmibhhM7.js.map
