import{jsx as t,jsxs as s,Fragment as g}from"react/jsx-runtime";import{useState as v}from"react";import{u as x,_ as D,a as C,S as b,P as N,t as L,T as h,B as o,D as w,M as $,E as S,v as I,w as k}from"./main-B1vcX1Xc.js";import{E as A,D as M}from"./EmptyRow-ByoRE4tB.js";import{f as T}from"./formatDate-NTpwfeNp.js";import{T as E}from"./Trans-Wb08S-yD.js";import{S as P,a as u}from"./SplitItem-C8Rp4BjS.js";import{D as O,a as R,b as U}from"./DataListItemRow-xY5zS9da.js";import{D as W,a as f}from"./DataListItemCells-Bb3bT7_v.js";import"react-dom";const _=({title:a,onClick:n,testid:r})=>{const[l,c]=v(!1);return s(g,{children:[t(w,{popperProps:{position:"right"},onOpenChange:p=>c(p),toggle:p=>t($,{className:"pf-v5-u-display-none-on-lg",ref:p,variant:"plain",onClick:()=>c(!l),isExpanded:l,children:t(S,{})}),isOpen:l,children:t(I,{onClick:n,children:a},"1")}),t(o,{variant:"link",onClick:n,className:"pf-v5-u-display-none pf-v5-u-display-inline-flex-on-lg","data-testid":r,children:a})]})},Q=()=>{const{t:a}=x(),n=D(),{login:r}=n.keycloak,[l,c]=v();C(i=>k({signal:i,context:n}),c,[]);const p=i=>{const e=i.credential,m=[t(f,{"data-testrole":"label",className:"pf-v5-u-max-width",style:{"--pf-v5-u-max-width--MaxWidth":"300px"},children:a(e.userLabel)||a(e.type)},"title")];return e.createdDate&&m.push(t(f,{"data-testrole":"created-at",children:s(E,{i18nKey:"credentialCreatedAt",children:[t("strong",{className:"pf-v5-u-mr-md"}),{date:T(new Date(e.createdDate))}]})},"created"+e.id)),m};if(!l)return t(b,{});const y=[...new Set(l.map(i=>i.category))];return t(N,{title:a("signingIn"),description:a("signingInDescription"),children:y.map(i=>s(L,{variant:"light",className:"pf-v5-u-px-0",children:[t(h,{headingLevel:"h2",size:"xl",id:`${i}-categ-title`,children:a(i)}),l.filter(e=>e.category==i).map(e=>s(g,{children:[s(P,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",children:[s(u,{children:[t(h,{headingLevel:"h3",size:"md",className:"pf-v5-u-mb-md","data-testid":`${e.type}/help`,children:t("span",{className:"cred-title pf-v5-u-display-block","data-testid":`${e.type}/title`,children:a(e.displayName)})}),t("span",{"data-testid":`${e.type}/help-text`,children:a(e.helptext)})]}),e.createAction&&t(u,{isFilled:!0,children:t("div",{className:"pf-v5-u-float-right",children:t(_,{onClick:()=>r({action:e.createAction}),title:a("setUpNew",{name:a(`${e.type}-display-name`)}),testid:`${e.type}/create`})})})]}),s(O,{"aria-label":"credential list",className:"pf-v5-u-mb-xl","data-testid":`${e.type}/credential-list`,children:[e.userCredentialMetadatas.length===0&&t(A,{message:a("notSetUp",{name:a(e.displayName)}),"data-testid":`${e.type}/not-set-up`}),e.userCredentialMetadatas.map(d=>t(R,{children:t(U,{id:`cred-${d.credential.id}`,children:t(W,{className:"pf-v5-u-py-0",dataListCells:[...p(d),s(M,{id:`action-${d.credential.id}`,"aria-label":a("updateCredAriaLabel"),"aria-labelledby":`cred-${d.credential.id}`,children:[e.removeable&&t(o,{variant:"danger","data-testrole":"remove",onClick:()=>{r({action:"delete_credential:"+d.credential.id})},children:a("delete")}),e.updateAction&&t(o,{variant:"secondary",onClick:()=>{r({action:e.updateAction})},"data-testrole":"update",children:a("update")})]},"action")]})})},d.credential.id))]})]}))]},i))})};export{Q as SigningIn,Q as default};
//# sourceMappingURL=SigningIn-C8dFF4_7.js.map
